<section class="section" id="process">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6 text-center">
        <div class="section-heading">
          <!-- Heading -->
          <h2 class="section-title">Create Your Own Project</h2>
        </div>
      </div>
    </div>
    <div class="justify-content-center">
      <button class="btn-new btn-warning" (click)="reset()">
        Project Reset <i class="fa fa-refresh"></i>
      </button>
      <hr>
      <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
        <li [ngbNavItem]="1" [disabled]="active === 2 || active === 3">
          <a ngbNavLink>Step #01</a>
          <ng-template ngbNavContent>
            <div class="row">
              <div class="col-12">
                <div class="card" *ngIf="imageUploadBoolean == 0">
                  <h3 class="card-header" style="color: #21c87a;">
                    Upload your image
                  </h3>
                  <div class="card-body">
                    <div class="text-right">
                      <div *ngIf="message == 'Active'">
                        <div class="badge badge-primary">Active API</div>
                      </div>
                      <div *ngIf="message == 'Inactive'">
                        <div class="badge badge-danger">Inactive API</div>
                      </div>
                    </div>

                    <hr />
                    <div *ngFor="let progressInfo of progressInfos" class="mb-2">
                      <span>{{ progressInfo.fileName }}</span>
                      <div class="progress">
                        <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar"
                          attr.aria-valuenow="{{ progressInfo.value }}" aria-valuemin="0" aria-valuemax="100"
                          [ngStyle]="{ width: progressInfo.value + '%' }">
                          {{ progressInfo.value }}%
                        </div>
                      </div>
                    </div>
                    <p>
                      Please upload your pet image standard size. Because it affects the
                      final outcome.....
                    </p>
                    <div class="col-12 text-right">
                      <label class="btn btn-default">
                        <input type="file" multiple (change)="selectFiles($event)" accept="image/*" />
                      </label>
                      <div *ngIf="active == 1">
                        <button class="btn-new btn-dark" [disabled]="!selectedFiles" (click)="uploadFiles()">
                          Image Analysis
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="card">
                  <h3 class="card-header" style="color: #21c87a;">
                    Your image analysis
                  </h3>
                  <div class="card-body">
                    <div class="text-right" *ngIf="openCVLoadResult | async as result">
                      <div class="badge badge-success" *ngIf="result.loading">
                        Waiting for OpenCV.js to load!
                      </div>
                      <div class="badge badge-primary" *ngIf="result.ready">
                        OpenCV.js is ready!
                      </div>
                      <div class="badge badge-warning" *ngIf="result.error">
                        OpenCV.js load error!
                      </div>
                    </div>
                    <hr />

                    <div class="row text-center">
                      <div class="col-6">
                        <canvas #canvas id="canvas" width="750" height="500"
                          style="border: 1px solid mediumspringgreen;width: inherit;"></canvas>
                      </div>
                      <div class="col-6 text-justify output-box">
                        <h4 class="text-center">OpenCV data analysis</h4>
                        <table class="table">
                          <tr>
                            <td>Disease Percentage</td>
                            <td>{{ diseasePercentage }}</td>
                          </tr>
                          <tr>
                            <td>White Dots Count</td>
                            <td>{{ whiteDotsCount }}</td>
                          </tr>
                          <tr>
                            <td>Yellow Dots Count</td>
                            <td>{{ yellowDotsCount }}</td>
                          </tr>
                        </table>
                      </div>
                      <div class="col-12 text-right">
                        <button class="btn-new btn-primary" [disabled]="active === 2" (click)="nav.select(2)">
                          Next <i class="fa fa-arrow-right"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </ng-template>
        </li>
        <li [ngbNavItem]="2" [disabled]="active === 1 || active === 3">
          <a ngbNavLink>Step #02</a>
          <ng-template ngbNavContent>
            <div class="row">
                <div class="col-4 nav-tabs" ngbNav #navType="ngbNav" [(activeId)]="activeType">
                  <h3>Select Your Pet Category</h3>
                  <div [ngbNavItem]="1">
                    <a ngbNavLink class="test-inner" >
                      <div class="test-author-thumb d-flex">
                        <img
                          src="https://images.unsplash.com/photo-1504430225224-21a649ac91bc?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=735&q=80"
                          alt="Testimonial author" class="img-fluid">
                        <div class="test-author-info">
                          <h4>Feline Questions</h4>
                          <h6>Please select your dog disease factors</h6>
                        </div>
                      </div>
                    </a>

                    <ng-template ngbNavContent>
                      <div class="project-content">
                        <h1>Please select your feline disease factors</h1>

                      </div>
                    </ng-template>
                  </div>
                  <hr>
                  <div [ngbNavItem]="2">
                    <a ngbNavLink class="test-inner" >
                      <div class="test-author-thumb d-flex">
                        <img
                          src="https://images.unsplash.com/photo-1596854407944-bf87f6fdd49e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80"
                          alt="Testimonial author" class="img-fluid">
                        <div class="test-author-info">
                          <h4>Canine Questions</h4>
                          <h6>Please select your cat disease factors</h6>
                        </div>
                      </div>
                    </a>

                    <ng-template ngbNavContent>
                      <div class="project-content">
                        <h1>Please select your canine disease factors</h1>
                      </div>
                    </ng-template>
                  </div>
                </div>
              <div class="col-8" [ngbNavOutlet]="navType">
                <!-- <div >
                  <h1>ssss</h1>
                </div>
                <div>
                  <h1>ssss</h1>
                </div> -->
                <!-- <form [formGroup]="formGroup" (validSubmit)="onSubmit()">
                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q1">
                      <label class="form-check-label" for="flexSwitchCheckDefault">01.Scattered white patches appear on the upper surface of leaves?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q2">
                      <label class="form-check-label" for="flexSwitchCheckDefault">02.Is powdery coating appearing on the leaves?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q3">
                      <label class="form-check-label" for="flexSwitchCheckDefault">03.Are leaves drying up and dropping off?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q4">
                      <label class="form-check-label" for="flexSwitchCheckDefault">04.Can you see clearing of leaf margins followed by vein chlorosis ?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q5">
                      <label class="form-check-label" for="flexSwitchCheckDefault">05.Can you see younger leaves develop yellow veins surrounded by dark and light green patches ?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q6">
                      <label class="form-check-label" for="flexSwitchCheckDefault">06.Can you see Fruits are small, distorted and chlorotic?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q7">
                      <label class="form-check-label" for="flexSwitchCheckDefault">07.Can you see Seedlings are stunted?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q8">
                      <label class="form-check-label" for="flexSwitchCheckDefault">08.Can you see Red-bodied bugs are seen feeding and moving on plants ?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q9">
                      <label class="form-check-label" for="flexSwitchCheckDefault">09.Can you see the conical leaf rolls hanging from the leaves?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q10">
                      <label class="form-check-label" for="flexSwitchCheckDefault">10.Can you see green caterpillars inside the rolls?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q11">
                      <label class="form-check-label" for="flexSwitchCheckDefault">11.Are shoots and fruits drooping with holes?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q12">
                      <label class="form-check-label" for="flexSwitchCheckDefault">12.Has plants been stunted?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q13">
                      <label class="form-check-label" for="flexSwitchCheckDefault">13.Are leaves smaller than normal?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q14">
                      <label class="form-check-label" for="flexSwitchCheckDefault">14.Are leaves yellow?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q15">
                      <label class="form-check-label" for="flexSwitchCheckDefault">15.Are shoots thin?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q16">
                      <label class="form-check-label" for="flexSwitchCheckDefault">16.Are Leaves dark green?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q17">
                      <label class="form-check-label" for="flexSwitchCheckDefault">17.Can you see Leaves, chlorosis erratic leaf shape?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q18">
                      <label class="form-check-label" for="flexSwitchCheckDefault">18.Are plant stems thin ,and fractured?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q19">
                      <label class="form-check-label" for="flexSwitchCheckDefault">19.Are the number of leaves low?</label>
                    </div>
                  </div>

                  <div class="form-inline form-group">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"  formControlName="Q20">
                      <label class="form-check-label" for="flexSwitchCheckDefault">20.Are Leaf margins brown yellow , brown or scorched?</label>
                    </div>
                  </div>
                  <button *ngIf="!Output" type="submit" class="btn btn-primary">
                    Save
                  </button>
                  <div *ngIf="Output">
                    <button
                      type="submit"
                      class="btn btn-dark"
                      [disabled]="active === 3"
                      (click)="nav.select(3)"
                    >
                      Go to Your Final Outcome
                    </button>
                  </div>
                </form> -->
              </div>
            </div>
          </ng-template>
        </li>
        <li [ngbNavItem]="3" [disabled]="active === 1 || active === 2">
          <a ngbNavLink>Final Result</a>
          <ng-template ngbNavContent>
            <div class="row justify-content-md-center">
              <h4>Predict Result</h4>
            </div>
            <div class="row justify-content-md-center">
              <div>
                <h2 class="badge badge-warning" style="font-size: 24px">
                  {{ Output }}
                </h2>
              </div>
            </div>
          </ng-template>
        </li>
      </ul>

      <div [ngbNavOutlet]="nav" class="mt-5"></div>
    </div>
  </div>
</section>
